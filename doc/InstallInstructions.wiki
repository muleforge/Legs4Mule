h1. LegStar for Mule Distribution content

This distribution provides Mule transformers and transports for mainframe integration based on the [LegStar open-source legacy integration product|http://www.legsem.com/legstar].
The distribution file contains the prerequisite LegStar core modules in addition to the LegStar for Mule modules.

The runtime classes are bundled in legstar-mule-transport-x.jar, where x is the version number, under the lib sub-directory.

The LegStar for Mule transport can be configured to use HTTP or WebSphere MQ as its underlying wire protocol to communicate with mainframes. Calls can be initiated from Mule or from the Mainframe.

The distribution also contains a generation tool that creates ad-hoc Mule transformers. Without such a tool, you would have to manually map mainframe programs input and output COBOL structures to Mule input and output messages.

The LegStar for Mule generator tool also creates sample Mule configuration files ready for testing.

Generated configurations implement either adapters, giving Mule clients access to mainframe programs or proxies, giving mainframe programs outbound access to Mule services.

The generation tool classes are bundled in legstar-mule-generator-x.jar, where x is the version number, under the *lib* sub-directory.

The *lib* sub-directory contains all the core LegStar libraries and their dependencies ready to compile your own services.

You can learn more on how to use the LegStar core functionalities at http://www.legsem.com/legstar.

In the following text, substitute $VARNAME by %VARNAME% if you are running on Windows.

h1. Installing LegStar for Mule

h2. Pre requisites

LegStar for Mule requires at least Mule 2.2.1.

If you want to use WebSphere MQ as a transport, you will need the following WebSphere MQ client libraries (to be copied to $MULE_HOME/lib/opt):

* com.ibm.mq.jar

* com.ibm.mqjms.jar

* dhbcore.jar

* fscontext.jar

* providerutil.jar

You should have Mule installed and the MULE_HOME environment variable should point to your Mule installation folder. The generator will try to deploy sample services to $MULE_HOME/lib/user.

JRE 1.5+ and ANT 1.6.5+ are both prerequisites for LegStar.
Make sure JAVA_HOME and ANT_HOME environment variables are set and that $JAVA_HOME/bin and $ANT_HOME/bin are both in you system path.

In order to run the samples, you should have access to a CICS TS region where the CICS IVP resources, such as file FILEA (CSD group DFH$FILEA), are installed.

h2. Installing zOS CICS modules

This is a requirement for adapter services if you intend to use the LegStar HTTP protocol as shown in the following table. Otherwise, go to the next section.

Do you need to install the LegStar zOS CICS modules?

||                || *Adapters*           || *Proxies*      ||
|| *HTTP*         | Yes                  | No             |
|| *Websphere MQ* | No (with IBM CICS MQ Bridge) | No             |

Download the LegStar [distribution for ZOS|http://www.legsem.com/legstar/legstar-distribution-zos/index.html].
 
The release notes give directions on how to install the CICS modules.

h2. Installing Java modules

Download the latest [LegStar for Mule|http://dist.muleforge.org/legstar-transport/].

Unzip the distribution file to a location of your choice.

Set the LEGSTAR_HOME environment variable to point to the installation sub-folder named legstar-mule-x (x being the version number).

Update your LD_LIBRARY_PATH (PATH on windows) environment variable so that it contains $LEGSTAR_HOME/bin.

h1. Go through the quickstarts

Start by the runtime quickstarts which will help you complete and validate your installation.

h2. Runtime quickstarts

They are located under $LEGSTAR_HOME/samples/mule/quickstarts.

The legstar-adapter quickstart accesses a mainframe program from Mule and the legstar-proxy quickstart accesses a POJO from a mainframe program using a Mule proxy component.

1. From legstar_adapter folder follow instructions in the readme.txt file.

2. From legstar_proxy folder follow instructions in the readme.txt file.

h2. Development time quickstarts

They are described in the Documentation section of the [Legs4Mule home page|http://www.mulesource.org/display/LEGSTAR/Home].

